var Timer=function(e,t){this.callback=e;this.callbackObject=t};Timer.prototype.time=function(){return Math.round((new Date).getTime()/1e3)};Timer.prototype.tic=function(){this.currentTime=this.time();this.callback.apply(this.callbackObject,[false]);if(this.currentTime>this.endTime){clearInterval(this.timer);this.callback.apply(this.callbackObject,[true])}};Timer.prototype.elapsed=function(){return this.currentTime-this.startTime};Timer.prototype.remaining=function(){return this.endTime-this.currentTime};Timer.prototype.start=function(e){var t=this;t.startTime=t.time();t.endTime=t.startTime+e;t.currentTime=t.startTime;t.timer=setInterval(function(){t.tic()},500)};Timer.prototype.togglePause=function(){var e=this;if(!e.paused){clearInterval(e.timer);e.paused=true}else{elapsed=e.time()-e.currentTime;e.startTime+=elapsed;e.endTime+=elapsed;e.paused=false;e.timer=setInterval(function(){e.tic()},500)}};Timer.prototype.stop=function(){clearInterval(this.timer);this.endTime=this.time()}